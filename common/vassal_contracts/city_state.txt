@ai_standard_liege_desire = 2
@ai_standard_vassal_desire = 1

city_state_government_taxes = {
	display_mode = tree
	icon = gold_icon

	obligation_levels = {
		city_state_tax_exempt = {
			position = { 0 0 }

			tax = exempt_city_state_tax
			vassal_opinion = 10

			ai_liege_desire = 1
			ai_vassal_desire = 5
		}
		city_state_tax_low = {
			parent = city_state_tax_exempt
			position = { 1 0 }

			tax = low_city_state_tax
			vassal_opinion = 5

			ai_liege_desire = 2
			ai_vassal_desire = 4
		}
		city_state_tax_normal = {
			default = yes
			parent = city_state_tax_low
			position = { 2 0 }

			tax = normal_city_state_tax

			ai_liege_desire = 3
			ai_vassal_desire = 3
		}
		city_state_tax_high = {
			parent = city_state_tax_normal
			position = { 3 0 }
			
			tax = high_city_state_tax
			vassal_opinion = -15

			ai_liege_desire = 4
			ai_vassal_desire = 2
		}
		city_state_tax_extortionate = {
			parent = city_state_tax_high
			position = { 4 0 }
			
			tax = extortionate_city_state_tax
			vassal_opinion = -25

			ai_liege_desire = 5
			ai_vassal_desire = 1
		}
	}
}
city_state_government_levies = {
	display_mode = tree
	icon = soldier_icon
	obligation_levels = {
		city_state_levies_exempt = {
			position = { 0 0 }

			levies = exempt_city_state_levies
			vassal_opinion = 10

			ai_liege_desire = 1
			ai_vassal_desire = 5
		}
		city_state_levies_low = {
			parent = city_state_levies_exempt
			position = { 1 0 }

			levies = low_city_state_levies
			vassal_opinion = 5

			ai_liege_desire = 2
			ai_vassal_desire = 4
		}
		city_state_levies_normal = {
			default = yes
			parent = city_state_levies_low
			position = { 2 0 }

			levies = normal_city_state_levies

			ai_liege_desire = 3
			ai_vassal_desire = 3
		}
		city_state_levies_high = {
			parent = city_state_levies_normal
			position = { 3 0 }
			
			levies = high_city_state_levies
			vassal_opinion = -15

			ai_liege_desire = 4
			ai_vassal_desire = 2
		}
		city_state_levies_extortionate = {
			parent = city_state_levies_high
			position = { 4 0 }
			
			levies = extortionate_city_state_levies
			vassal_opinion = -25

			ai_liege_desire = 5
			ai_vassal_desire = 1
		}
	}
}
city_state_role = {
	display_mode = radiobutton

	obligation_levels = {
		city_state_role_none = {
			position = { 0 1 }

			levies = 0.15
			tax = 0.15

			ai_liege_desire = 2
			ai_vassal_desire = 2
		}
		city_state_role_divine_territory = {
			position = { 1 1 }

			levies = 0.15
			tax = 0.15

			liege_modifier = {
				monthly_piety = 0.3
			}
			vassal_modifier = {
				monthly_piety = 2
				development_growth_factor = -0.3
			}
			vassal_opinion = -40

			ai_liege_desire = 2
			ai_vassal_desire = 0
		}
		city_state_role_autonomy = {
			position = { 0 2 }
			default = yes

			levies = -0.8
			tax = -0.8

			flag = city_state_autonomous

			vassal_opinion = 30

			ai_liege_desire = 0
			ai_vassal_desire = 100
		}
		city_state_role_klerouchy = {
			position = { 0 3 }

			levies = -0.15
			tax = 0.15
			vassal_opinion = 20

			flag = city_state_encouraged_culture_flipping # TODO: Add logic for this.

			ai_liege_desire = 1
			ai_vassal_desire = 2
		}
	}
}
city_state_enforced_government = {
	display_mode = radiobutton
	is_shown = {
	 	scope:vassal = {
	 		OR = {
	 			NOT = { vassal_contract_has_flag = city_state_autonomous }
	 			vassal_contract_has_flag = city_state_enforced_aristocratic
	 			vassal_contract_has_flag = city_state_enforced_democratic
	 			vassal_contract_has_flag = city_state_enforced_oligarchic
	 			vassal_contract_has_flag = city_state_enforced_tyrannical
	 		}
	 	}
	}

	obligation_levels = {
		city_state_government_free = {
			position = { 0 1 }

			ai_liege_desire = 0
			ai_vassal_desire = @ai_standard_vassal_desire
		}
		city_state_enforced_aristocratic = {
			default = yes
			position = { 0 2 }
			is_valid = {
				scope:vassal = {
					OR = {
						NOT = { vassal_contract_has_flag = city_state_autonomous }
						vassal_contract_has_flag = city_state_enforced_aristocratic
					}
				}
			}

			flag = city_state_enforced_aristocratic

			ai_liege_desire = 0 # TODO: Extra desire for aristocratic city states.
			ai_vassal_desire = 0
		}
		city_state_enforced_democratic = {
			position = { 0 3 }
			is_valid = {
				scope:vassal = {
					OR = {
						NOT = { vassal_contract_has_flag = city_state_autonomous }
						vassal_contract_has_flag = city_state_enforced_democratic
					}
				}
			}

			flag = city_state_enforced_democratic

			ai_liege_desire = 0 # TODO: Extra desire for democratic city states.
			ai_vassal_desire = 0
		}
		city_state_enforced_oligarchic = {
			position = { 0 4 }
			is_valid = {
				scope:vassal = {
					OR = {
						NOT = { vassal_contract_has_flag = city_state_autonomous }
						vassal_contract_has_flag = city_state_enforced_oligarchic
					}
				}
			}

			flag = city_state_enforced_oligarchic

			ai_liege_desire = 0 # TODO: Extra desire for oligarchic city states.
			ai_vassal_desire = 0
		}
		city_state_enforced_tyrannical = {
			position = { 0 5 }
			is_valid = {
				scope:vassal = {
					OR = {
						NOT = { vassal_contract_has_flag = city_state_autonomous }
						vassal_contract_has_flag = city_state_enforced_tyrannical
					}
				}
			}

			flag = city_state_enforced_tyrannical

			ai_liege_desire = 0 # TODO: Extra desire for tyrannical city states.
			ai_vassal_desire = 0
		}
	}
}
city_state_garrison_right = {
	display_mode = checkbox
	is_shown = {
	 	scope:vassal = {
	 		OR = {
	 			NOT = { vassal_contract_has_flag = city_state_autonomous }
	 			vassal_contract_has_flag = city_state_installed_garrison
	 		}
	 	}
	}
	obligation_levels = {
		city_state_garrison_none = {
			default = yes
			position = { 0 0 }

			ai_liege_desire = 0
			ai_vassal_desire = @ai_standard_vassal_desire
		}
		city_state_garrison_installed = {
			parent = city_state_garrison_none
			position = { 0 1 }

			flag = city_state_installed_garrison

			ai_liege_desire = @ai_standard_liege_desire
			ai_vassal_desire = 0
		}
	}
}